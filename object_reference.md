# objectの登録について

objectを登録する際に必要なことは以下の三つです。

1. デフォルトプロパティーの追加
2. 画像ファイルの追加
3. objectに対応するファイルの追加
4. Click Eventの追加

## デフォルトプロパティーの追加

objectを登録したい場合は`option.rpy`の`default_obj_prop`という辞書型定数ににKeyとValueを追加してください。
登録するKeyはobject名の文字列、Valueはobjectを表示する際ののデフォルトのプロパティーです。
デフォルトのプロパティーには、主に位置を指定します。必要に応じて他のプロパティーを設定してください。

## 画像ファイルの追加

objectに対応して、実際にゲーム画面に表示される画像ファイルを追加してください。
ファイル名は、object名に含まれる`.`を空白に置き換え、後ろに適切な拡張子をつけた文字列にしてください。
また、混乱を避けるため、ファイル名に含まれる大文字のアルファベットは小文字にしておいてください。
例えば、object名が`Box`のときは、画像ファイル名は`box.png`や`box.jpg`などとなります。
object名が`Box.png`のときは、画像ファイル名は`box png.png`や`box png.jpg`などとなります。

## objectに対応するファイルの追加

プレイヤーが操作をするためのobjectに対応するファイルを以下の手順で作成してください。

### ファイルの中身が決定していない場合

プレーヤーがそのobjectに対応するファイルの中身を使うことを想定していない場合はこちらの手順で作成します。
pythonディレクトリをターミナルで開いて、mk.pyファイルを次のコマンドで実行してください。
\<object名>と書いてあるところには追加したいobjectの名前を入れてください。

```sh
python mk.py <object名>
```

すると、object名をファイル名とするファイルが生成されるので、そのファイルを表示したいroomに対応するディレクトリに入れてください。

### ファイルの中身が決定している場合

プレーヤーがそのobjectのファイルの中身を使用することを想定している場合はこちらの手順で作成します。
まず、objectに対応させたいファイルを用意します。このとき、用意するファイルの名前はobject名にしてください。
次に、ハッシュ値の登録を行います。
pythonディレクトリをターミナルで開いて、bintohash.pyファイルを次のコマンドで実行してください。

```sh
python bintohash.py <用意したファイルへのパス> <object名>
```

すると、object名をファイル名とするファイルが生成されます。そのファイルを`game/data/hash_list`ディレクトリ内に移動してください。
これでハッシュ値の登録は完了です。

## Click Eventの追加

最後に、ゲーム内の画像をクリックしたときのイベントを登録します。
object名に含まれる空白と`.`(ドット)を`_`(アンダーバー)に置き換えた文字列をラベル名とするラベルを作成し、イベントの内容を記述してください。イベントを終了するときは必ず`event_end()`関数を呼んでください。
また、各room毎に別々のイベントを発生させたい時は、指定されたラベル名の先頭にに\<roomid>_をつけた文字列をラベル名としたイベントを記述してください。roomidとは、`f1r1`、`f2r3`、`title`のような、roomを識別するための文字列です。
名前にroomidのついていないイベントとroomidのついているイベントが両方存在するとき、roomidのついているイベントのみが呼び出されます。
